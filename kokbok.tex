\documentclass[12pt,a4paper]{article}
\usepackage[swedish]{babel} %göra så att autogenererade saker blir på svenska
\usepackage[T1]{fontenc} %rendera åäö bättre
\usepackage[utf8]{inputenc} %använda utf-8
\usepackage[parfill]{parskip} %gör så att styckena blir den "rätta" sorten
\usepackage[indention=0.5cm]{caption}
\usepackage{mathtools}
\usepackage{float}
\usepackage{enumitem}
\usepackage{siunitx}
\usepackage{catchfile}
\usepackage{xstring}
\usepackage{xfrac}
\usepackage{xcookybooky}
\usepackage{hyperref}

\CatchFileDef{\HEAD}{.git/refs/heads/master}{}
\newcommand{\shortHEAD}{\StrLeft{\HEAD}{7}}

\DeclareSIUnit\liter{l}
\sisetup{
  range-phrase={\,--\,},
  range-units=single,
}

\title{\Huge Eriks Kokbok\\\medskip
  \large Utgåva 3.0\\\smallskip
  \small\texttt\shortHEAD}
\author{Erik Rimskog}

% xcookybooky %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% NOTE: fix for outdated xcookybooky / updated lettrine
% https://tex.stackexchange.com/a/481705
\renewcommand{\step}
{%
  \stepcounter{step}%shouldn't be in the argument of lettrine
  \lettrine
  [%
  lines=2,
  lhang=0,
  loversize=0.15,
  slope=0em,
  findent=1em,
  nindent=0em
  ]{\thestep}{}%
}

\setHeadlines{
  inghead = Ingredienser,
  portionvalue = Portioner,
  prephead = Förberedelse,
  hinthead = Tips
}

\setRecipeLengths{pictureheight=4cm}

% recipe commands %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\recipepicture}[1]{pictures/#1}
\newcommand{\includerecipe}[1]{\include{recipes/#1}}

\newcommand{\recipesektion}[1]{\multicolumn{2}{l}{\rule{0em}{1.4em}\textbf{\textsc{[#1]}}}}
\newcommand{\optional}{\recipesektion{valfritt}}
\newcommand{\shortstep}{\vspace{\baselineskip}}

% Sources %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\nyfikengron}{Nyfiken grön: mera vego --- mindre regler}
\newcommand{\portionenundertian}{Portionen under tian}

\begin{document}

\maketitle
\thispagestyle{empty}
\newpage
\tableofcontents
\newpage
\part{Eriks Specialiteter}
\includerecipe{korvstroganoff}
\includerecipe{pannkakor}
\includerecipe{carbonara}

\part{Victorias Specialiteter}
\includerecipe{linscurry}
\includerecipe{vegetarisk-lasagne}

\end{document}
